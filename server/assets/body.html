<!DOCTYPE html>
<html>
	<head>
		<title>My kanban board</title>
		<link rel="stylesheet" type="text/css" href="./style/style.css" />
		<meta content="width=device-width, initial-scale=1" name="viewport" />
		
	</head>

<body>
	<div class="header">My kanban board</div>

	<div class="main">

	<div class="board-body">
		<div class="board-body-column">

		<div class="board-header">Todo</div>
		{{range .ToDo}}

			<div class="ticket">
				<div class="ticket-header">{{.Title}}</div>
				<div class="ticket-desc">{{.Description}}</div>
				<form action="/" method="POST">
					<input type="hidden" name="ticketID" value="{{.ID}}">
					<input type="hidden" name="state" value="ToDo">
					<input class="ticket-button" type="submit" name='{{.ID}}' value="&rarr;" />
				</form>
				
				<div class="ticket-footer">
					<div class="footer-element" id="{{.ID}}">
						{{.Deadline}}
					</div>
				</div>

			</div>

		{{end}}

		</div>
		<div class="board-body-column">
		<div class="board-header">InProgress</div>

		{{range .InProgress}}

			<div class="ticket">
				<div class="ticket-header">{{.Title}}</div>
				<div class="ticket-desc">{{.Description}}</div>
				<form action="/" method="POST">
					<input type="hidden" name="ticketID" value="{{.ID}}">
					<input type="hidden" name="state" value="InProgress">
					<input class="ticket-button" type="submit" name='{{.ID}}' value="&rarr;" />
				</form>

				<div class="ticket-footer">
					<div class="footer-element" id="{{.ID}}">
						{{.Deadline}}
					</div>
				</div>
			</div>

		{{end}}

		</div>
		<div class="board-body-column">
		<div class="board-header">Done</div>

		{{range .Done}}

			<div class="ticket">
				<div class="ticket-header">{{.Title}}</div>
				<div class="ticket-desc">{{.Description}}</div>
				<form action="/" method="post">
					<input type="hidden" name="ticketID" value="{{.ID}}">
					<input type="hidden" name="state" value="Done">
					<input class="ticket-button" type="submit" name='{{.ID}}' value="X" />
				</form>

				<div class="ticket-footer">
					<div class="footer-element" id="{{.ID}}">
						{{.Deadline}}
					</div>
				</div>
			</div>

		{{end}}

		</div>
	</div>
	<div class="new-ticket">
            <div class="board-header">New ticket...</div>

                    <form action="/" method="POST" class="ticket">
                        <div class="ticket-header">
                            <input type="text" name="newTitle" placeholder="Title..." required />
                        </div>

                        <div class="ticket-desc">
                            <textarea name="newDescription" placeholder="Description..." required/></textarea>
						</div>
						
						<div class="ticket-footer">
							<div class="footer-element">
								<div class="footer-element-header">Deadline</div>
								<input type="date" name="newDate" required />
							</div>

							<div class="footer-element">
								<div class="footer-element-header">Priority</div>
								<input type="number" name="newPriority" min="1" max="10" placeholder="5" required />
							</div>
						</div>

                        <input class="ticket-button" type="submit" name="submitNewTicket" value="Add" />
                    </form>

            </div>
		</div>
	</body>
</html>